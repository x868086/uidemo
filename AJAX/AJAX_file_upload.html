<!DOCTYPE html>
<html lang="en">
    <head>
        <title>AJAX_file_upload</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/style.css" rel="stylesheet">
    </head>
    <body>
        <form id="file-form" action="handler.php" method="POST">
            <input type="file" id="file-select" name="photos[]" multiple/> <!--multiple课选多个文件-->
            <button type="submit" id="upload-button">上传</button>
          </form>

          <script>
          var fileSelect=document.getElementById('file-select')
          var files = fileSelect.files;
          var formData=new FormData()
          for(var i=0;i<files.length;i++){
              var file=files[i]
              if(!file.type.match('image.*')){
                  continue;
              }
              formData.append('photos[]',file,file.name)
          }

          var xhr=new XMLHttpRequest()
          xhr.open('POST','server/demo.js',true)
          xhr.onload=function(){
              if(xhr.readyState===4){
                  //...
              }
          }
          xhr.send(formData)

          
          
          </script>
    </body>
</html>